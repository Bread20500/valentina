<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Detalle</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Crimson+Pro:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        /* Forzamos colores para evitar el modo oscuro automático */
        :root {
            --paper-bg: #f4f1ea;
            --card-bg: #ffffff;
            --ink: #1c1917;
        }

        body {
            font-family: 'Crimson Pro', serif;
            background-color: var(--paper-bg) !important;
            color: var(--ink) !important;
            margin: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            overflow: hidden;
        }
        
        .paper-texture {
            background-color: var(--card-bg) !important;
            background-image: url("https://www.transparenttextures.com/patterns/handmade-paper.png");
        }

        /* Contenedor principal de la tarjeta */
        .card-container {
            width: 320px;
            height: 400px;
            position: relative;
            cursor: pointer;
            transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 10;
        }

        /* Diseño de la "Portada" o Rectángulo inicial */
        .card-front {
            position: absolute;
            inset: 0;
            border: 2px solid var(--ink);
            display: flex;
            flex-col;
            align-items: center;
            justify-content: center;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            z-index: 30;
            transition: all 0.8s ease;
            transform-origin: center;
        }

        /* Al abrir, la portada se desvanece y escala */
        .open .card-front {
            opacity: 0;
            transform: scale(1.2);
            pointer-events: none;
        }

        /* Contenido Interno */
        .card-inner {
            position: absolute;
            inset: 0;
            border: 2px solid var(--ink);
            background: white !important;
            opacity: 0;
            transform: scale(0.9);
            transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 20;
            display: grid;
            grid-template-columns: 1fr 1fr;
            grid-template-rows: 1fr 1fr;
            padding: 4px;
        }

        .open .card-inner {
            opacity: 1;
            transform: scale(1);
        }

        /* Cuadrantes interactivos */
        .quadrant {
            border: 1px solid #e5e7eb;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 10px;
            transition: background 0.3s;
        }

        .quadrant:hover {
            background-color: #fcfaf2 !important;
        }

        .secret-content {
            opacity: 0;
            transform: translateY(10px);
            transition: all 0.4s ease;
        }

        .quadrant.revealed .secret-content {
            opacity: 1;
            transform: translateY(0);
        }

        .quadrant.revealed i {
            opacity: 0.2;
            transform: scale(0.8);
        }

        .quadrant i {
            transition: all 0.4s ease;
            margin-bottom: 4px;
            color: var(--ink);
        }

        /* Animaciones */
        @keyframes heart-beat {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.15); }
        }
        .animate-beat {
            animation: heart-beat 1.5s infinite;
        }

        @keyframes spin-slow {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        .animate-spin-slow {
            animation: spin-slow 10s linear infinite;
        }
    </style>
</head>
<body>

    <!-- Fondo con Marca de Agua -->
    <div class="absolute inset-0 opacity-5 pointer-events-none flex items-center justify-center">
        <i data-lucide="heart" style="width: 400px; height: 400px;"></i>
    </div>

    <div class="flex flex-col items-center">
        <p id="hint" class="mb-6 text-stone-400 italic text-sm transition-opacity">Haz clic en el cuadro para abrir</p>

        <div id="main-card" class="card-container" onclick="handleCardClick(event)">
            
            <!-- PORTADA (Rectángulo Limpio) -->
            <div class="card-front paper-texture p-8 flex flex-col items-center justify-center text-center">
                <i data-lucide="flower-2" class="mb-4 text-stone-800" size="48"></i>
                <div class="h-px w-20 bg-stone-300 my-2"></div>
                <h1 class="text-2xl font-bold tracking-[0.25em] text-stone-900 uppercase">¿HACE FALTA?</h1>
                <p class="text-[10px] tracking-[0.3em] text-stone-500 mt-3 uppercase">Te quiero Ximena</p>
                <div class="mt-6 flex gap-1">
                    <div class="w-1 h-1 rounded-full bg-stone-800"></div>
                    <div class="w-1 h-1 rounded-full bg-stone-300"></div>
                    <div class="w-1 h-1 rounded-full bg-stone-800"></div>
                </div>
            </div>

            <!-- INTERIOR (Revelado) -->
            <div class="card-inner paper-texture">
                <div class="quadrant" onclick="reveal(this, event)">
                    <i data-lucide="navigation"></i>
                    <div class="secret-content">
                        <h4 class="text-[10px] font-bold uppercase border-b border-stone-800 mb-1">Prestarme tu tabla periódica</h4>
                        <p class="text-[9px] italic text-stone-500">"JAJAJAJ, gracias a ti me dieron 3 puntos"</p>
                    </div>
                </div>
                <div class="quadrant bg-stone-50/50" onclick="reveal(this, event)">
                    <i data-lucide="wind"></i>
                    <div class="secret-content">
                        <h4 class="text-[10px] font-bold uppercase border-b border-stone-800 mb-1">El Viaje</h4>
                        <p class="text-[9px] italic text-stone-500">"Gracias por esos lindos momentos que tuvimos en ese colegio tan feo"</p>
                    </div>
                </div>
                <div class="quadrant bg-stone-50/50" onclick="reveal(this, event)">
                    <i data-lucide="sparkles"></i>
                    <div class="secret-content">
                        <h4 class="text-[10px] font-bold uppercase border-b border-stone-800 mb-1">Los recuerdos</h4>
                        <p class="text-[9px] italic text-stone-500">"Extraño las bromas que hacíamos, y los momentos donde solo estabamos callados"</p>
                    </div>
                </div>
                <div class="quadrant" onclick="reveal(this, event)">
                    <i data-lucide="anchor"></i>
                    <div class="secret-content">
                        <h4 class="text-[10px] font-bold uppercase border-b border-stone-800 mb-1">La paciencia/h4>
                        <p class="text-[9px] italic text-stone-500">"Valoro que a pesar de mis errores hayas decidido quedarte a mi lado"</p>
                    </div>
                </div>

                <!-- Corazón Central Decorativo -->
                <div class="absolute inset-0 flex items-center justify-center pointer-events-none">
                    <div class="bg-white p-4 rounded-full border border-stone-800 shadow-lg flex flex-col items-center">
                        <div class="relative">
                            <i data-lucide="heart" class="text-red-600 animate-beat" fill="currentColor" size="32"></i>
                            <div class="absolute -inset-2 border border-stone-100 rounded-full animate-spin-slow"></div>
                        </div>
                        <span class="text-[8px] font-bold uppercase mt-1">Gracias por:</span>
                    </div>
                </div>
            </div>
        </div>

        <div id="footer" class="mt-10 opacity-0 transition-all duration-1000 transform translate-y-4 text-center">
            <h2 class="text-xl tracking-[0.4em] font-bold text-stone-800 uppercase">Eres una parte importante de mi vida</h2>
            <button onclick="resetCard(event)" class="mt-4 text-[10px] underline text-stone-400 hover:text-stone-800 uppercase tracking-widest">Cerrar</button>
        </div>
    </div>

    <script>
        lucide.createIcons();

        function handleCardClick(e) {
            const card = document.getElementById('main-card');
            const hint = document.getElementById('hint');
            const footer = document.getElementById('footer');

            if (!card.classList.contains('open')) {
                card.classList.add('open');
                hint.style.opacity = '0';
                footer.style.opacity = '1';
                footer.style.transform = 'translateY(0)';
            }
        }

        function reveal(el, e) {
            e.stopPropagation();
            el.classList.toggle('revealed');
        }

        function resetCard(e) {
            e.stopPropagation();
            const card = document.getElementById('main-card');
            const hint = document.getElementById('hint');
            const footer = document.getElementById('footer');

            card.classList.remove('open');
            hint.style.opacity = '1';
            footer.style.opacity = '0';
            footer.style.transform = 'translateY(16px)';
            
            // Resetear cuadrantes
            document.querySelectorAll('.quadrant').forEach(q => q.classList.remove('revealed'));
        }
    </script>
</body>
</html>
